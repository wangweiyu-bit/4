# 老王研究所网站交互功能详细描述

## 🎯 核心交互系统

### 1. 用户认证与权限管理
**功能描述**: 完整的用户登录、注册、权限控制系统
- **微信OAuth登录**: 集成微信开放平台，支持一键登录
- **管理员审批**: 新用户需要管理员授权才能访问受限页面
- **权限分级**: 游客、普通会员、高级会员、管理员四个等级
- **单设备登录**: 防止账号共享，支持设备ID验证
- **预览授权**: 临时授权功能，方便本地测试

**交互流程**:
1. 点击"登录/注册"按钮
2. 跳转微信OAuth授权页面
3. 授权后回调到网站
4. 管理员审批（新用户）
5. 登录成功，显示用户状态

### 2. 页面访问控制
**功能描述**: 智能页面访问权限控制
- **首页公开**: 任何人都可以访问
- **其他页面受限**: 需要登录和审批
- **预览模式**: 提供临时预览功能
- **自动跳转**: 未授权用户自动跳转首页

---

## 🎨 视觉交互效果

### 1. 按钮涟漪效果
**功能描述**: 点击按钮时的水波纹动画
- **触发**: 点击任何`.btn`元素
- **效果**: 从点击位置扩散的圆形涟漪
- **持续时间**: 650ms
- **颜色**: 半透明白色

### 2. 卡片悬停倾斜
**功能描述**: 鼠标悬停时卡片的3D倾斜效果
- **触发**: 鼠标悬停在`.card`元素上
- **效果**: 卡片根据鼠标位置进行3D旋转
- **最大角度**: 6度
- **额外效果**: 轻微上移和放大(1.01倍)
- **兼容性**: 仅在有悬停功能的设备上启用

### 3. 滚动显示动画
**功能描述**: 元素进入视口时的渐显动画
- **触发**: 元素进入视口12%时
- **效果**: 添加`.show`类，触发CSS动画
- **观察对象**: 所有`.card`和`.reveal`元素
- **动态监听**: 支持动态添加的元素

### 4. 主题切换
**功能描述**: 浅色/深色主题切换
- **触发**: 点击主题切换按钮
- **存储**: localStorage持久化
- **范围**: 整个网站
- **按钮文本**: 动态显示当前主题

---

## 🎪 轮播图系统

### 1. 自动轮播
**功能描述**: 图片自动轮播展示
- **轮播间隔**: 4.2秒
- **方向**: 从左到右
- **循环**: 无限循环
- **暂停**: 鼠标悬停时暂停

### 2. 手动控制
**功能描述**: 用户手动控制轮播
- **前进按钮**: 下一张图片
- **后退按钮**: 上一张图片
- **指示点**: 点击跳转到指定图片
- **键盘支持**: 方向键控制

### 3. 轮播内容
**图片内容**:
1. 工具开发 - ImageJ 宏与批量脚本开发
2. 教程录制 - 把复杂知识拆解为易学可复用模块
3. 图形表达 - 科研可视化与表达美学
4. 数据平台 - 药学智能化数据信息平台

---

## 🎯 六边形能力雷达图

### 1. 交互式评分
**功能描述**: 用户可调节的技能评分系统
- **技能维度**: 宏开发、图像分析、可视化、教程设计、数据平台、项目协作
- **评分范围**: 0-100分
- **滑块控制**: 每个维度独立的滑块
- **实时更新**: 滑块移动时雷达图实时更新
- **数据持久化**: 评分保存到localStorage

### 2. 雷达图渲染
**功能描述**: SVG绘制的六边形雷达图
- **网格**: 5层同心六边形网格
- **数值多边形**: 根据评分绘制的填充区域
- **标签**: 每个维度的名称标签
- **颜色**: 蓝色渐变填充

### 3. 数据管理
**存储键**: `radar:技能名称|技能名称|...`
**默认值**: 宏开发92、图像分析95、可视化88、教程设计90、数据平台85、项目协作86

---

## 🎉 获奖证书交互

### 1. 悬停显示照片
**功能描述**: 鼠标悬停证书时显示照片
- **触发**: 悬停在`.award-photo`元素上
- **效果**: 在证书下方显示对应照片
- **透明度**: 50%
- **位置**: 证书下方居中

### 2. 点击烟花动画
**功能描述**: 点击证书触发庆祝动画
- **触发**: 点击`.award-photo`元素
- **烟花效果**: 60个彩色纸片从点击位置散射
- **祝福语**: 随机显示20条祝福语之一
- **持续时间**: 烟花1.3-1.7秒，祝福语1.7秒

### 3. 祝福语内容
**随机祝福语**:
- 🙇‍♂️ 大佬膜拜！💫 吸吸欧气～ ✨
- 🎉 欧气临门！📈 事业高涨～
- 🤝 学神赐福！📚 灵感+999
- 🌟 好运在线！🔮 今日必顺
- 🧠 突破瓶颈！⚡ 灵光乍现
- 🚀 论文起飞！📄 审稿一路绿灯
- 💎 爆肝有回报！🔥 代码无Bug
- 🍀 欧气拉满！🧪 实验一遍成功
- 🏆 状态拉满！🏅 冲冲冲～
- 🦾 拿捏了！今天稳得很～
- 等20条祝福语

---

## 🐱 云养猫系统

### 1. 撸猫功能
**功能描述**: 点击撸猫按钮增加爱心计数
- **触发**: 点击"撸一下"按钮
- **效果**: 爱心数+1，显示"猫猫被温柔地撸了一下"
- **存储**: localStorage存储每只猫的爱心数
- **键名**: `cats:like:1`, `cats:like:2`, `cats:like:3`

### 2. 投喂系统
**功能描述**: 虚拟投喂猫猫
- **投喂选项**: ¥5零食、¥10猫粮、¥20玩具
- **投喂记录**: 记录投喂者姓名、留言、金额、时间
- **感谢墙**: 显示最近20条投喂记录
- **存储**: localStorage存储投喂记录

### 3. 猫猫年龄计算
**功能描述**: 实时计算猫猫年龄
- **出生日期**: 2023-09-05
- **显示格式**: X年X天X时X分X秒
- **更新频率**: 每秒更新
- **计算方式**: 当前时间减去出生时间

---

## 🎮 科研娱乐功能

### 1. 科研人祈祷
**功能描述**: 随机显示科研祝福语
- **触发**: 点击"开始祈祷"按钮
- **效果**: 弹窗显示随机祝福语
- **动画**: 星空背景动画
- **音效**: 可选播放背景音乐
- **祝福语数量**: 20条

### 2. 科研心情测试
**功能描述**: 3个问题的心理测试
- **问题1**: 今天的数据感觉如何？（很棒/一般/糟糕）
- **问题2**: 实验推进进度？（顺利/卡住）
- **问题3**: 心情状态？（轻松/紧张）
- **结果**: 根据答案生成个性化评语
- **评语数量**: 20条

### 3. 敲木鱼
**功能描述**: 点击木鱼获得鼓励
- **触发**: 点击"敲一下"按钮
- **音效**: 播放木鱼音效
- **鼓励语**: 随机显示20条鼓励话语
- **效果**: 即时显示鼓励语

### 4. 多喝水提醒
**功能描述**: 水杯填充动画和提醒
- **填充**: 每次点击+20%水位
- **动画**: 水泡上升效果
- **提醒**: 可设置定时提醒（5-120分钟）
- **提示语**: 随机显示20条喝水提示

### 5. 别生气舒缓
**功能描述**: 科研压力舒缓功能
- **触发**: 点击"我有点上火"按钮
- **效果**: 弹窗显示安慰话语
- **图片**: 显示舒缓图片
- **音效**: 可选播放舒缓音乐
- **安慰语数量**: 20条

### 6. 每日挑战
**功能描述**: 随机科研任务挑战
- **任务类型**: 20种不同的科研任务
- **进度条**: 完成挑战增加20%进度
- **存储**: localStorage保存进度
- **完成奖励**: 进度达到100%时显示完成提示

### 7. 今日抽签
**功能描述**: 随机科研好运指引
- **触发**: 点击"抽一签"按钮
- **内容**: 20条科研相关的正能量寄语
- **显示**: 在按钮旁边显示抽签结果

---

## 💬 匿名互动区

### 1. 多板块发帖
**功能描述**: 6个不同主题的匿名发帖板块
- **相亲角**: 科研人员交友
- **实验Protocol**: 实验方法分享
- **求职&招聘**: 工作机会交流
- **吐槽&分享**: 日常吐槽和经验分享
- **二手回收**: 物品交易
- **细胞/资源互换**: 科研资源交换

### 2. 发帖功能
**功能描述**: 完整的匿名发帖系统
- **标题**: 可选，最多5000字符
- **标签**: 逗号分隔，用于分类
- **内容**: 纯文本，最多5000字符
- **文件上传**: 最多4个文件，支持多种格式
- **文件类型**: 图片、PDF、ZIP、Office文档、文本等

### 3. 文件上传
**功能描述**: 多文件上传和预览
- **数量限制**: 最多4个文件
- **格式支持**: 图片、PDF、ZIP、Office文档等
- **预览功能**: 图片直接预览，其他文件显示附件图标
- **上传方式**: 本地预览 + 后端上传

### 4. 互动功能
**功能描述**: 点赞、评论、搜索等互动
- **点赞**: 点击点赞按钮，数字+1，有脉冲动画
- **评论**: 匿名评论，实时显示
- **搜索**: 标题、内容、标签关键词搜索
- **今日缘分**: 从相亲角随机选择一条帖子

### 5. 分页系统
**功能描述**: 内容分页显示
- **每页数量**: 10条帖子
- **翻页控制**: 上一页/下一页按钮
- **页面信息**: 显示当前页/总页数/总条数
- **数据存储**: 后端API + localStorage双重存储

---

## 📅 预约系统

### 1. 时段管理
**功能描述**: 课程时段安排和管理
- **时间安排**: 每天20:00-23:00
- **课程时长**: 45分钟上课 + 15分钟休息
- **时段划分**: 20:00、21:00、22:00三个时段
- **容量控制**: 每时段可设置容量（默认3人）

### 2. 预约功能
**功能描述**: 完整的预约和排队系统
- **预约条件**: 需要登录会员
- **信息收集**: 姓名、手机号（至少6位数字）
- **预约确认**: 生成预约号
- **排队机制**: 满员时自动进入排队
- **取消预约**: 可取消预约，自动补位排队用户

### 3. 签到功能
**功能描述**: 已预约用户签到
- **签到条件**: 仅已预约用户可签到
- **签到记录**: 记录签到时间和用户
- **签到状态**: 实时更新签到状态

### 4. 管理功能
**功能描述**: 管理员功能
- **容量调整**: 可调整每时段容量
- **预约统计**: 显示每日预约情况
- **数据存储**: localStorage + 后端API

---

## 🔍 搜索和筛选

### 1. 代码中心搜索
**功能描述**: 代码资源的搜索和筛选
- **搜索字段**: 名称、标签、类型
- **分类筛选**: ImageJ插件、数据处理脚本、图像分析宏
- **实时搜索**: 输入时实时筛选结果
- **结果展示**: 网格布局展示搜索结果

### 2. 教程中心筛选
**功能描述**: 教程资源的筛选
- **搜索字段**: 主题、工具、关键词
- **难度筛选**: 基础、进阶
- **类型筛选**: 图文、视频
- **多条件**: 支持多个条件组合筛选

### 3. 匿名帖子搜索
**功能描述**: 匿名帖子的搜索
- **搜索范围**: 标题、内容、标签
- **实时搜索**: 输入关键词实时筛选
- **结果高亮**: 搜索结果中关键词高亮

---

## 💾 数据存储系统

### 1. localStorage存储
**功能描述**: 客户端数据持久化
- **用户信息**: `lz_member` - 用户登录状态
- **设备ID**: `lz_device_id` - 唯一设备标识
- **主题设置**: `lz_theme` - 浅色/深色主题
- **雷达图数据**: `radar:技能名称|...` - 六边形雷达图评分
- **猫猫爱心**: `cats:like:1/2/3` - 每只猫的爱心数
- **投喂记录**: `cats:feeds` - 投喂记录列表
- **挑战进度**: `challenge:progress` - 每日挑战进度
- **匿名帖子**: `anon:板块名称` - 各板块的匿名帖子
- **预约数据**: `booking:schedule:日期` - 每日预约安排

### 2. 后端API存储
**功能描述**: 服务端数据存储
- **用户管理**: 用户注册、登录、审批
- **文件上传**: 匿名帖子附件上传
- **预约系统**: 预约、排队、签到数据
- **匿名互动**: 帖子、评论、点赞数据

### 3. 数据同步
**功能描述**: 前后端数据同步
- **优先策略**: 后端优先，localStorage作为备份
- **离线支持**: 后端不可用时使用本地数据
- **实时更新**: 操作后立即更新本地存储

---

## 🎨 动画效果系统

### 1. CSS动画
**功能描述**: 各种CSS动画效果
- **涟漪效果**: 按钮点击水波纹
- **卡片倾斜**: 3D悬停效果
- **滚动显示**: 元素进入视口渐显
- **脉冲动画**: 点赞数字脉冲效果
- **水泡动画**: 水杯填充时的气泡效果

### 2. JavaScript动画
**功能描述**: 动态生成的动画效果
- **烟花动画**: 点击证书时的纸片散射
- **祝福语**: 大字体祝福语显示
- **猫爪点击**: 点击时显示猫爪图标
- **星空背景**: 祈祷时的星空动画

### 3. 音效系统
**功能描述**: 各种音效播放
- **祈祷音效**: `prayer.mp3`
- **木鱼音效**: `wooden.mp3`
- **舒缓音效**: `calm.mp3`
- **播放控制**: 用户点击授权播放

---

## 🔧 技术实现细节

### 1. 事件处理
- **事件委托**: 使用事件委托处理动态元素
- **防抖节流**: 搜索和滚动事件优化
- **异步处理**: 所有API调用都是异步的

### 2. 错误处理
- **网络错误**: API调用失败时的降级处理
- **数据验证**: 用户输入数据的验证
- **兼容性**: 不同浏览器的兼容性处理

### 3. 性能优化
- **懒加载**: 图片和组件的懒加载
- **缓存策略**: 静态资源的缓存
- **内存管理**: 及时清理事件监听器和定时器

这个网站包含了非常丰富的交互功能，从基础的UI交互到复杂的业务逻辑，从视觉动画到数据管理，形成了一个完整的交互生态系统。

